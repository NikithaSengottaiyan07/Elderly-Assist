{"version":3,"names":["React","useEffect","useRef","Animated","View","pulses","randomValues","SpeakingAnimation","props","propsRef","current","isSpeaking","i","push","Value","createAnimation","Math","random","parallel","timing","toValue","duration","useNativeDriver","start","createElement","style","map","pulse","idx","key","width","transform","scaleY","height","backgroundColor","color","marginRight"],"sources":["SpeakingAnimation.tsx"],"sourcesContent":["import React  from 'react'\r\nimport { useEffect, useRef } from \"react\";\r\nimport { Animated, View } from 'react-native';\r\n\r\ninterface SpeakingAnimationProps {\r\n    style: any,\r\n    inputVolume?: any,\r\n    isSpeaking?: boolean,\r\n    color?: string\r\n}\r\nlet pulses: Animated.Value[] = []\r\nlet randomValues: number[] = []\r\nexport const SpeakingAnimation = (props: SpeakingAnimationProps) => {\r\n    const propsRef = useRef<boolean>()\r\n    propsRef.current = props.isSpeaking\r\n    useEffect(() => {\r\n        if(pulses[0] == null)\r\n        {\r\n            for (let i = 0; i <= 21; i++) {\r\n                pulses.push(new Animated.Value(1))\r\n            }\r\n        }\r\n    }, [])\r\n    useEffect(() => {\r\n        function createAnimation() {\r\n            for (let i = 0; i <= 21; i++) {\r\n\r\n                if(i < 3 || i > 18)\r\n                {\r\n                    randomValues[i] = Math.random() < 0.5 ? ((1 - Math.random()) * (5 - 1) + 1) : (Math.random() * (5 - 1) + 1)\r\n                }\r\n                else if((i >= 3 && i < 7) || (i > 15 && i <= 18) )\r\n                {\r\n                    randomValues[i] = Math.random() < 0.5 ? ((1 - Math.random()) * (7 - 1) + 1) : (Math.random() * (7 - 1) + 1)\r\n                }\r\n                else if ((i >= 7 && i < 10) || (i > 12 && i <= 15))\r\n                {\r\n                    randomValues[i] = Math.random() < 0.5 ? ((1 - Math.random()) * (12 - 3) + 3) : (Math.random() * (12 - 3) + 3)\r\n                }\r\n                else if (i == 10 || i == 12)\r\n                {\r\n                    randomValues[i] = Math.random() < 0.5 ? ((1 - Math.random()) * (15 - 5) + 5) : (Math.random() * (15 - 5) + 5)\r\n                }\r\n                else\r\n                {\r\n                    randomValues[i] = Math.random() < 0.5 ? ((1 - Math.random()) * (17 - 8) + 8) : (Math.random() * (17 - 8) + 8)\r\n                }\r\n\r\n            }\r\n            Animated.parallel([\r\n                Animated.timing(pulses[0], {\r\n                    toValue: randomValues[0],\r\n                    duration: 60,\r\n                    useNativeDriver: true,\r\n                }),\r\n                Animated.timing(pulses[1], {\r\n                    toValue: randomValues[1],\r\n                    duration: 60,\r\n                    useNativeDriver: true,\r\n                }),\r\n                Animated.timing(pulses[2], {\r\n                    toValue: randomValues[2],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[3], {\r\n                    toValue: randomValues[3],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[4], {\r\n                    toValue: randomValues[4],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[5], {\r\n                    toValue: randomValues[5],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[6], {\r\n                    toValue: randomValues[6],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[7], {\r\n                    toValue: randomValues[7],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[8], {\r\n                    toValue: randomValues[8],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[9], {\r\n                    toValue: randomValues[9],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[10], {\r\n                    toValue: randomValues[10],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[11], {\r\n                    toValue: randomValues[11],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[12], {\r\n                    toValue: randomValues[12],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[13], {\r\n                    toValue: randomValues[13],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[14], {\r\n                    toValue: randomValues[14],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[15], {\r\n                    toValue: randomValues[15],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[16], {\r\n                    toValue: randomValues[16],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[17], {\r\n                    toValue: randomValues[17],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[18], {\r\n                    toValue: randomValues[18],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[19], {\r\n                    toValue: randomValues[19],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[20], {\r\n                    toValue: randomValues[20],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n                Animated.timing(pulses[21], {\r\n                    toValue: randomValues[21],\r\n                    duration: 60,\r\n                    useNativeDriver: true\r\n                }),\r\n            ]).start(() => {\r\n                if (propsRef.current) {\r\n                    createAnimation()\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            })\r\n        }\r\n        if (propsRef.current) {\r\n            createAnimation()\r\n        }\r\n\r\n    }, [propsRef.current])\r\n\r\n    return (\r\n        <View style={props.style}>\r\n            {pulses.map((pulse, idx) => {\r\n                return (\r\n                    <Animated.View key={idx} style={{\r\n                        width: 4,\r\n                        transform: [{\r\n                            scaleY: propsRef.current ? pulse : 1\r\n                        }],\r\n                        height: 4,\r\n                        backgroundColor: props.color,\r\n                        marginRight: 1\r\n                    }}/>\r\n                )\r\n            })}\r\n        </View>\r\n\r\n    )\r\n}\r\n\r\n"],"mappings":"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"}